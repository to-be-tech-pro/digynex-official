import{u as g,m as y,n as b,p as t,f as o,q as a,P as f,N as u,Q as x,O as P,r}from"./index-BCoBQOFT.js";import{Q as h}from"./QForm-BO46eSKG.js";import{Q}from"./QPage-DNQfSVvF.js";import{Q as k,a as _}from"./QLayout-iHn7fAIC.js";import{u as q}from"./use-quasar-DuPF83ky.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QScrollObserver-B5hpTMde.js";import"./QResizeObserver-CLJoVRmi.js";const C={class:"content-container z-top q-pa-md",style:{"max-width":"450px",width:"100%"}},N={class:"glass-panel q-pa-lg q-pa-md-xl rounded-xl shadow-24 border-glass text-center relative-position"},U={__name:"ResetPasswordPage",setup(B){const m=q(),c=g(),n=r(""),w=r(""),d=r(!1),i=r(!1),p=r(!1),v=async()=>{p.value=!0;try{const{error:l}=await P.auth.updateUser({password:n.value});if(l)throw l;m.notify({type:"positive",message:"Password updated successfully!",position:"top"}),c.push("/login")}catch(l){m.notify({type:"negative",message:l.message||"Error updating password",position:"top"})}finally{p.value=!1}};return(l,e)=>(y(),b(_,{view:"hHh lpR fFf"},{default:t(()=>[o(k,null,{default:t(()=>[o(Q,{class:"bg-dark text-white flex flex-center relative-position overflow-hidden"},{default:t(()=>[e[6]||(e[6]=a("div",{class:"glow-blob top-right"},null,-1)),e[7]||(e[7]=a("div",{class:"glow-blob bottom-left"},null,-1)),a("div",C,[a("div",N,[e[4]||(e[4]=a("h2",{class:"text-h5 text-weight-bold q-mb-md"},"Set New Password",-1)),e[5]||(e[5]=a("p",{class:"text-grey-5 q-mb-xl"},"Please enter your new password below",-1)),o(h,{onSubmit:v,class:"q-gutter-y-md"},{default:t(()=>[o(f,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s),dark:"",outlined:"",label:"New Password",color:"accent",type:d.value?"text":"password","lazy-rules":"",rules:[s=>s&&s.length>=6||"Password must be at least 6 characters"]},{prepend:t(()=>[o(u,{name:"lock",color:"grey-5"})]),append:t(()=>[o(u,{name:d.value?"visibility":"visibility_off",class:"cursor-pointer",color:"grey-5",onClick:e[0]||(e[0]=s=>d.value=!d.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),o(f,{modelValue:w.value,"onUpdate:modelValue":e[3]||(e[3]=s=>w.value=s),dark:"",outlined:"",label:"Confirm Password",color:"accent",type:i.value?"text":"password","lazy-rules":"",rules:[s=>s===n.value||"Passwords do not match"]},{prepend:t(()=>[o(u,{name:"lock_clock",color:"grey-5"})]),append:t(()=>[o(u,{name:i.value?"visibility":"visibility_off",class:"cursor-pointer",color:"grey-5",onClick:e[2]||(e[2]=s=>i.value=!i.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),o(x,{unelevated:"",type:"submit",color:"white","text-color":"dark",label:"Update Password",class:"full-width text-weight-bold q-py-sm btn-hover-lift",loading:p.value},null,8,["loading"])]),_:1})])])]),_:1})]),_:1})]),_:1}))}},L=V(U,[["__scopeId","data-v-ae951078"]]);export{L as default};

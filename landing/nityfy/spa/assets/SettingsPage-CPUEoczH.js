import{Q as K,a as y,b as O,c as b}from"./QTabPanels-CJnekpGK.js";import{r as C,m as _,n as P,p as l,q as a,f as e,X as u,Y as m,P as M,a7 as E,Q as p,aa as k,S as q,v as o,z as D,a8 as T,N as d,D as N,V as R,O as G}from"./index-BCoBQOFT.js";import{Q as H}from"./QSelect-DZMeRPTx.js";import{Q as w}from"./QBadge-CD0MS9Rg.js";import{Q as r,a as n}from"./QItem-Wb4A_Ad7.js";import{Q as A}from"./QList-TwHTGU55.js";import{Q as S}from"./QItemLabel-djxoAbwS.js";import{Q as Y}from"./QBanner-9GPSZcrN.js";import{Q as X,a as J}from"./QTable-Dv_xctJK.js";import{Q as W}from"./QPage-DNQfSVvF.js";import{e as Z}from"./export-file-DU7gsD6D.js";import{u as h}from"./use-quasar-DuPF83ky.js";import{u as ee}from"./currency-FmnwYlLu.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QResizeObserver-CLJoVRmi.js";import"./touch-BjYP5sR0.js";import"./position-engine-BGz6yeZ8.js";import"./use-render-cache-DLxPkVnQ.js";import"./QChip-B9sWOFsV.js";import"./QMenu-CRQWq3Fk.js";import"./format-CoaQEihs.js";import"./QLinearProgress-DcUDM4wH.js";import"./index-D5GkNzM3.js";const le={class:"row q-col-gutter-lg"},ae={class:"col-12 col-md-3"},se={class:"col-12 col-md-9"},oe={class:"row q-col-gutter-md"},ne={class:"col-12 col-sm-6"},de={class:"col-12 col-sm-6"},re={class:"col-12 col-sm-6"},ie={class:"col-12 col-sm-6"},ue={class:"row items-center justify-between q-py-sm"},me={class:"row items-center justify-between q-py-sm"},fe={class:"q-mt-sm row items-center"},pe={class:"row q-col-gutter-md"},ge={class:"col-12 col-md-6"},ye={class:"text-h4 text-primary q-my-md"},be={class:"col-12 col-md-6"},ce={class:"text-h4 text-white q-my-md"},ve={class:"q-banner bg-orange-1 text-orange-9 q-pa-sm rounded-borders q-mb-md flex items-center"},xe={class:"q-banner bg-orange-1 text-orange-9 q-pa-sm rounded-borders q-mb-md flex items-center"},qe={class:"q-banner bg-orange-1 text-orange-9 q-pa-sm rounded-borders q-mb-md flex items-center q-mt-md"},we={class:"row q-gutter-md"},Se={__name:"SettingsPage",setup(Ve){const Q=h(),f=ee(),c=C(""),V=C("general"),i=C({name:"DigyNex Institute",email:"admin@digynex.com",phone:"0771234567",currency:f.currency,darkMode:!1,compactSidebar:!1}),L=g=>{g==="SEK"?f.setCountryCode("SE"):g==="LKR"?f.setCountryCode("LK"):f.setCountryCode("US")},v=C({newStudent:!0,payments:!0,updates:!1}),$=[{name:"date",label:"Date & Time",field:"date",align:"left",sortable:!0},{name:"user",label:"User",field:"user",align:"left",sortable:!0},{name:"action",label:"Action",field:"action",align:"left"},{name:"details",label:"Details",field:"details",align:"left"},{name:"severity",label:"Severity",field:"severity",align:"center"}],F=C([{id:1,date:"2026-02-10 08:30 AM",user:"Admin User",action:"Login",details:"Successful login from IP 192.168.1.5",severity:"Low"},{id:2,date:"2026-02-10 09:15 AM",user:"Admin User",action:"Create Student",details:"Added new student: Kasun Perera",severity:"Normal"},{id:3,date:"2026-02-10 09:45 AM",user:"Manager",action:"Payment",details:`Collected ${f.format(2500)} from Kasun Perera`,severity:"Normal"},{id:4,date:"2026-02-09 02:00 PM",user:"Admin User",action:"Delete Class",details:"Deleted Grade 9 Science Class",severity:"High"}]),U=async g=>{c.value=g;try{const{data:t,error:s}=await G.from(g).select("*");if(s)throw s;if(!t||t.length===0){Q.notify({type:"warning",message:"No data to export"}),c.value="";return}const j=Object.keys(t[0]),z=[j.join(","),...t.map(I=>j.map(B=>{let x=I[B]===null?"":I[B];return typeof x=="string"&&(x.includes(",")||x.includes('"'))&&(x=`"${x.replace(/"/g,'""')}"`),x}).join(","))].join(`\r
`);Z(`${g}_export_${new Date().toISOString().slice(0,10)}.csv`,z,"text/csv")===!0?Q.notify({type:"positive",message:"Export successful"}):Q.notify({type:"negative",message:"Browser denied file download"})}catch(t){Q.notify({type:"negative",message:"Export failed: "+t.message})}c.value=""};return(g,t)=>(_(),P(W,{class:"q-pa-lg"},{default:l(()=>[t[59]||(t[59]=a("div",{class:"row items-center justify-between q-mb-lg"},[a("div",{class:"col"},[a("h1",{class:"text-h5 text-weight-bold q-my-none text-dark"},"System Settings"),a("p",{class:"text-grey-6 q-mt-xs q-mb-none"}," Configure your application preferences and system defaults. ")])],-1)),a("div",le,[a("div",ae,[e(u,{class:"no-shadow border-gray"},{default:l(()=>[e(K,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=s=>V.value=s),vertical:"",class:"text-grey-7","active-color":"primary","active-bg-color":"blue-1","indicator-color":"primary",align:"left"},{default:l(()=>[e(y,{name:"general",icon:"tune",label:"General",class:"justify-start q-pl-md"}),e(y,{name:"subscription",icon:"star",label:"Subscription",class:"justify-start q-pl-md"}),e(y,{name:"notifications",icon:"notifications",label:"Notifications",class:"justify-start q-pl-md"}),e(y,{name:"security",icon:"security",label:"Security",class:"justify-start q-pl-md"}),e(y,{name:"data",icon:"cloud_download",label:"Data Management",class:"justify-start q-pl-md"}),e(y,{name:"audit",icon:"history",label:"Audit Logs",class:"justify-start q-pl-md"}),e(y,{name:"team",icon:"groups",label:"Team Members",class:"justify-start q-pl-md"})]),_:1},8,["modelValue"])]),_:1})]),a("div",se,[e(O,{modelValue:V.value,"onUpdate:modelValue":t[14]||(t[14]=s=>V.value=s),animated:"","transition-prev":"fade","transition-next":"fade",class:"bg-transparent"},{default:l(()=>[e(b,{name:"general",class:"q-pa-none"},{default:l(()=>[e(u,{class:"no-shadow border-gray q-mb-md"},{default:l(()=>[e(m,null,{default:l(()=>[t[15]||(t[15]=a("div",{class:"text-h6 text-weight-bold q-mb-sm"},"Institute Information",-1)),a("div",oe,[a("div",ne,[e(M,{outlined:"",modelValue:i.value.name,"onUpdate:modelValue":t[1]||(t[1]=s=>i.value.name=s),label:"Institute Name",dense:""},null,8,["modelValue"])]),a("div",de,[e(M,{outlined:"",modelValue:i.value.email,"onUpdate:modelValue":t[2]||(t[2]=s=>i.value.email=s),label:"Contact Email",dense:""},null,8,["modelValue"])]),a("div",re,[e(M,{outlined:"",modelValue:i.value.phone,"onUpdate:modelValue":t[3]||(t[3]=s=>i.value.phone=s),label:"Main Phone Number",dense:""},null,8,["modelValue"])]),a("div",ie,[e(H,{outlined:"",modelValue:i.value.currency,"onUpdate:modelValue":[t[4]||(t[4]=s=>i.value.currency=s),L],options:["SEK","LKR","USD"],label:"Currency",dense:""},null,8,["modelValue"])])])]),_:1}),e(E,{align:"right",class:"q-pa-md"},{default:l(()=>[e(p,{unelevated:"",color:"primary",label:"Save Changes","no-caps":""})]),_:1})]),_:1}),e(u,{class:"no-shadow border-gray"},{default:l(()=>[e(m,null,{default:l(()=>[t[18]||(t[18]=a("div",{class:"text-h6 text-weight-bold q-mb-sm"},"Appearance",-1)),a("div",ue,[t[16]||(t[16]=a("div",null,[a("div",{class:"text-subtitle2"},"Dark Mode"),a("div",{class:"text-caption text-grey-6"}," Switch between light and dark themes. ")],-1)),e(k,{modelValue:i.value.darkMode,"onUpdate:modelValue":t[5]||(t[5]=s=>i.value.darkMode=s),color:"primary"},null,8,["modelValue"])]),e(q,{spaced:""}),a("div",me,[t[17]||(t[17]=a("div",null,[a("div",{class:"text-subtitle2"},"Compact Sidebar"),a("div",{class:"text-caption text-grey-6"},"Show icons only in sidebar.")],-1)),e(k,{modelValue:i.value.compactSidebar,"onUpdate:modelValue":t[6]||(t[6]=s=>i.value.compactSidebar=s),color:"primary"},null,8,["modelValue"])])]),_:1})]),_:1})]),_:1}),e(b,{name:"subscription",class:"q-pa-none"},{default:l(()=>[e(u,{class:"no-shadow border-gray q-mb-md"},{default:l(()=>[e(m,null,{default:l(()=>[t[21]||(t[21]=a("div",{class:"text-h6 text-weight-bold"},"Current Plan",-1)),a("div",fe,[e(w,{color:"grey-7",class:"q-px-sm q-py-xs text-body2"},{default:l(()=>[...t[19]||(t[19]=[o("FREE TIER",-1)])]),_:1}),t[20]||(t[20]=a("div",{class:"text-caption text-grey-6 q-ml-md"},"Valid until: Forever",-1))])]),_:1})]),_:1}),a("div",pe,[a("div",ge,[e(u,{class:"no-shadow border-gray h-full"},{default:l(()=>[e(m,{class:"q-pa-lg"},{default:l(()=>[t[28]||(t[28]=a("div",{class:"text-h5 text-weight-bold"},"Free",-1)),a("div",ye,[o(D(T(f).format(0))+" ",1),t[22]||(t[22]=a("span",{class:"text-body1 text-grey"},"/mo",-1))]),e(q,{class:"q-my-md"}),e(A,{dense:""},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"check",color:"green"})]),_:1}),e(n,null,{default:l(()=>[...t[23]||(t[23]=[o("Unlimited Students",-1)])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"check",color:"green"})]),_:1}),e(n,null,{default:l(()=>[...t[24]||(t[24]=[o("Basic Attendance Marking",-1)])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"check",color:"green"})]),_:1}),e(n,null,{default:l(()=>[...t[25]||(t[25]=[o("Manual Payments",-1)])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"close",color:"grey"})]),_:1}),e(n,{class:"text-grey"},{default:l(()=>[...t[26]||(t[26]=[o("SMS Notifications",-1)])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"close",color:"grey"})]),_:1}),e(n,{class:"text-grey"},{default:l(()=>[...t[27]||(t[27]=[o("Cloud Backup",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(E,{class:"q-pa-lg"},{default:l(()=>[e(p,{outline:"",class:"full-width",label:"Current Plan",disable:"",color:"grey"})]),_:1})]),_:1})]),a("div",be,[e(u,{class:"no-shadow border-gray bg-primary text-white h-full relative-position"},{default:l(()=>[e(w,{color:"orange",floating:"",class:"q-pa-xs"},{default:l(()=>[...t[29]||(t[29]=[o("POPULAR",-1)])]),_:1}),e(m,{class:"q-pa-lg"},{default:l(()=>[t[36]||(t[36]=a("div",{class:"text-h5 text-weight-bold"},"Pro",-1)),a("div",ce,[o(D(T(f).format(T(f).proPrice))+" ",1),t[30]||(t[30]=a("span",{class:"text-body1 text-blue-2"},"/mo",-1))]),e(q,{color:"blue-4",class:"q-my-md"}),e(A,{dense:"",dark:""},{default:l(()=>[e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"check",color:"green-2"})]),_:1}),e(n,null,{default:l(()=>[...t[31]||(t[31]=[o("Everything in Free",-1)])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"check",color:"green-2"})]),_:1}),e(n,null,{default:l(()=>[...t[32]||(t[32]=[o("Real-time SMS Alerts",-1)])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"check",color:"green-2"})]),_:1}),e(n,null,{default:l(()=>[...t[33]||(t[33]=[o("Automated Email Reports",-1)])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"check",color:"green-2"})]),_:1}),e(n,null,{default:l(()=>[...t[34]||(t[34]=[o("Daily Cloud Backups",-1)])]),_:1})]),_:1}),e(r,null,{default:l(()=>[e(n,{avatar:""},{default:l(()=>[e(d,{name:"check",color:"green-2"})]),_:1}),e(n,null,{default:l(()=>[...t[35]||(t[35]=[o("Advanced Analytics",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),e(E,{class:"q-pa-lg"},{default:l(()=>[e(p,{unelevated:"",class:"full-width bg-white text-primary text-weight-bold",label:"Upgrade Now"})]),_:1})]),_:1})])])]),_:1}),e(b,{name:"notifications",class:"q-pa-none"},{default:l(()=>[e(u,{class:"no-shadow border-gray"},{default:l(()=>[e(m,null,{default:l(()=>[t[44]||(t[44]=a("div",{class:"text-h6 text-weight-bold q-mb-md"},"Email Notifications",-1)),a("div",ve,[e(d,{name:"lock",size:"sm",class:"q-mr-sm"}),t[37]||(t[37]=o(" Upgrade to Pro to enable automated email notifications. ",-1))]),e(A,null,{default:l(()=>[N((_(),P(r,{tag:"label",class:"opacity-50"},{default:l(()=>[e(n,null,{default:l(()=>[e(S,null,{default:l(()=>[t[39]||(t[39]=o("New Student Registration ",-1)),e(w,{color:"orange",align:"top"},{default:l(()=>[...t[38]||(t[38]=[o("PRO",-1)])]),_:1})]),_:1}),e(S,{caption:""},{default:l(()=>[...t[40]||(t[40]=[o("Receive email when a new student applies.",-1)])]),_:1})]),_:1}),e(n,{side:""},{default:l(()=>[e(k,{color:"primary",modelValue:v.value.newStudent,"onUpdate:modelValue":t[7]||(t[7]=s=>v.value.newStudent=s),disable:""},null,8,["modelValue"])]),_:1})]),_:1})),[[R]]),e(q,{spaced:""}),N((_(),P(r,{tag:"label",class:"opacity-50"},{default:l(()=>[e(n,null,{default:l(()=>[e(S,null,{default:l(()=>[t[42]||(t[42]=o("Payment Confirmation ",-1)),e(w,{color:"orange",align:"top"},{default:l(()=>[...t[41]||(t[41]=[o("PRO",-1)])]),_:1})]),_:1}),e(S,{caption:""},{default:l(()=>[...t[43]||(t[43]=[o("Receive email for successful payments.",-1)])]),_:1})]),_:1}),e(n,{side:""},{default:l(()=>[e(k,{color:"primary",modelValue:v.value.payments,"onUpdate:modelValue":t[8]||(t[8]=s=>v.value.payments=s),disable:""},null,8,["modelValue"])]),_:1})]),_:1})),[[R]])]),_:1})]),_:1}),e(q),e(m,null,{default:l(()=>[t[49]||(t[49]=a("div",{class:"text-h6 text-weight-bold q-mb-md"},"SMS Notifications",-1)),a("div",xe,[e(d,{name:"lock",size:"sm",class:"q-mr-sm"}),t[45]||(t[45]=o(" Upgrade to Pro to enable SMS alerts. ",-1))]),e(A,null,{default:l(()=>[N((_(),P(r,{tag:"label",class:"opacity-50"},{default:l(()=>[e(n,null,{default:l(()=>[e(S,null,{default:l(()=>[t[47]||(t[47]=o("Attendance SMS ",-1)),e(w,{color:"orange",align:"top"},{default:l(()=>[...t[46]||(t[46]=[o("PRO",-1)])]),_:1})]),_:1}),e(S,{caption:""},{default:l(()=>[...t[48]||(t[48]=[o("Send SMS to parents when student is absent.",-1)])]),_:1})]),_:1}),e(n,{side:""},{default:l(()=>[e(k,{color:"primary",modelValue:v.value.smsAttendance,"onUpdate:modelValue":t[9]||(t[9]=s=>v.value.smsAttendance=s),disable:""},null,8,["modelValue"])]),_:1})]),_:1})),[[R]])]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{name:"security",class:"q-pa-none"},{default:l(()=>[e(u,{class:"no-shadow border-gray"},{default:l(()=>[e(m,null,{default:l(()=>[t[51]||(t[51]=a("div",{class:"text-h6 text-weight-bold q-mb-md"},"Security Preferences",-1)),e(Y,{class:"bg-blue-1 text-primary rounded-borders q-mb-md"},{avatar:l(()=>[e(d,{name:"shield",size:"md"})]),action:l(()=>[e(p,{flat:"",label:"Enable 2FA"})]),default:l(()=>[t[50]||(t[50]=o(" Two-Factor Authentication (2FA) adds an extra layer of security to your account. ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),e(b,{name:"audit",class:"q-pa-none"},{default:l(()=>[e(u,{class:"no-shadow border-gray"},{default:l(()=>[e(m,null,{default:l(()=>[...t[52]||(t[52]=[a("div",{class:"text-h6 text-weight-bold q-mb-sm"},"Audit Logs",-1),a("p",{class:"text-grey-7"}," Track all important system activities and security events. ",-1)])]),_:1}),e(X,{rows:F.value,columns:$,"row-key":"id",flat:""},{"body-cell-severity":l(s=>[e(J,{props:s},{default:l(()=>[e(w,{color:s.row.severity==="High"?"red":"green"},{default:l(()=>[o(D(s.row.severity),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1})]),_:1}),e(b,{name:"data",class:"q-pa-none"},{default:l(()=>[e(u,{class:"no-shadow border-gray q-mb-md"},{default:l(()=>[e(m,null,{default:l(()=>[t[55]||(t[55]=a("div",{class:"text-h6 text-weight-bold q-mb-sm"},"Data Backup & Export",-1)),a("div",qe,[e(d,{name:"lock",size:"sm",class:"q-mr-sm"}),t[53]||(t[53]=a("span",{class:"text-weight-bold"},"Automated Cloud Backup",-1)),t[54]||(t[54]=o(" is available on the Pro Plan. ",-1)),e(p,{flat:"",dense:"",label:"Upgrade",class:"q-ml-sm",size:"sm",onClick:t[10]||(t[10]=s=>V.value="subscription")})]),t[56]||(t[56]=a("p",{class:"text-grey-7 q-mb-none"}," Manual exports are always free. You can export your data tables as CSV files for local safekeeping. ",-1))]),_:1}),e(q),e(m,null,{default:l(()=>[t[57]||(t[57]=a("div",{class:"text-subtitle1 text-weight-bold q-mb-md"},"Export Data Tables",-1)),a("div",we,[e(p,{outline:"",icon:"school",label:"Export Students",color:"primary",onClick:t[11]||(t[11]=s=>U("students")),loading:c.value==="students"},null,8,["loading"]),e(p,{outline:"",icon:"payments",label:"Export Payments",color:"green",onClick:t[12]||(t[12]=s=>U("payments")),loading:c.value==="payments"},null,8,["loading"]),e(p,{outline:"",icon:"co_present",label:"Export Tutors",color:"orange",onClick:t[13]||(t[13]=s=>U("tutors")),loading:c.value==="tutors"},null,8,["loading"])])]),_:1})]),_:1})]),_:1}),e(b,{name:"team",class:"q-pa-none"},{default:l(()=>[e(u,{class:"no-shadow border-gray flex flex-center column q-pa-xl"},{default:l(()=>[e(d,{name:"groups",size:"60px",color:"grey-4"}),t[58]||(t[58]=a("div",{class:"text-h6 text-grey-7 q-mt-md"},"Team Management coming soon",-1))]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1}))}},Ye=te(Se,[["__scopeId","data-v-79188fac"]]);export{Ye as default};

import{u as w,l as h,m as k,n as q,p as l,f as o,Q as v,q as s,P as y,N as p,bN as P,v as c,O as Q,r}from"./index-BCoBQOFT.js";import{Q as V}from"./QForm-BO46eSKG.js";import{Q as I}from"./QPage-DNQfSVvF.js";import{Q as _,a as C}from"./QLayout-iHn7fAIC.js";import{u as N}from"./use-quasar-DuPF83ky.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QScrollObserver-B5hpTMde.js";import"./QResizeObserver-CLJoVRmi.js";const B={class:"content-container z-top q-pa-md",style:{"max-width":"450px",width:"100%"}},S={class:"glass-panel q-pa-lg q-pa-md-xl rounded-xl shadow-24 border-glass text-center relative-position"},L={class:"row justify-between items-center q-mb-md"},R={class:"q-mt-xl text-grey-5"},U={__name:"LoginPage",setup($){const i=N(),x=w(),d=r(""),u=r(""),g=r(!1),n=r(!1),m=r(!1),b=async()=>{m.value=!0;try{const{data:a,error:e}=await Q.auth.signInWithPassword({email:d.value,password:u.value});if(e)throw e;a.session?(i.notify({type:"positive",message:"Welcome back! Redirecting...",position:"top",timeout:1500}),setTimeout(()=>{x.push("/tms/portal/dashboard")},1e3)):i.notify({type:"info",message:"Please check your email to confirm your account.",position:"top"})}catch(a){let e=a.message;e.includes("Invalid login credentials")&&(e="Invalid email or password. Please try again."),i.notify({type:"negative",message:e,position:"top"})}finally{m.value=!1}};return(a,e)=>{const f=h("router-link");return k(),q(C,{view:"hHh lpR fFf"},{default:l(()=>[o(_,null,{default:l(()=>[o(I,{class:"bg-dark text-white flex flex-center relative-position overflow-hidden"},{default:l(()=>[o(v,{to:"/",icon:"arrow_back",label:"Home",flat:"","no-caps":"",class:"absolute-top-left q-ma-md z-top text-grey-5 hover-accent"}),e[11]||(e[11]=s("div",{class:"glow-blob top-right"},null,-1)),e[12]||(e[12]=s("div",{class:"glow-blob bottom-left"},null,-1)),s("div",B,[s("div",S,[s("div",{class:"q-mb-xl cursor-pointer",onClick:e[0]||(e[0]=t=>a.$router.push("/"))},[...e[5]||(e[5]=[s("div",{class:"text-h4 text-white text-weight-bold",style:{"letter-spacing":"-1px"}}," DigyNex ",-1),s("div",{class:"text-caption text-grey-5 q-mt-xs"},"Tuition Management System",-1)])]),e[9]||(e[9]=s("h2",{class:"text-h5 text-weight-bold q-mb-md"},"Welcome Back",-1)),e[10]||(e[10]=s("p",{class:"text-grey-5 q-mb-xl"},"Sign in to access your dashboard",-1)),o(V,{onSubmit:b,class:"q-gutter-y-md"},{default:l(()=>[o(y,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=t=>d.value=t),dark:"",outlined:"",label:"Email Address",color:"accent",type:"email","lazy-rules":"",rules:[t=>t&&t.length>0||"Please enter your email"]},{prepend:l(()=>[o(p,{name:"email",color:"grey-5"})]),_:1},8,["modelValue","rules"]),o(y,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=t=>u.value=t),dark:"",outlined:"",label:"Password",color:"accent",type:n.value?"text":"password","lazy-rules":"",rules:[t=>t&&t.length>0||"Please enter your password"]},{prepend:l(()=>[o(p,{name:"lock",color:"grey-5"})]),append:l(()=>[o(p,{name:n.value?"visibility":"visibility_off",class:"cursor-pointer",color:"grey-5",onClick:e[2]||(e[2]=t=>n.value=!n.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),s("div",L,[o(P,{modelValue:g.value,"onUpdate:modelValue":e[4]||(e[4]=t=>g.value=t),dark:"",label:"Remember me",size:"sm",color:"accent"},null,8,["modelValue"]),o(f,{to:"/forgot-password",class:"text-grey-5 hover-accent text-decoration-none text-caption"},{default:l(()=>[...e[6]||(e[6]=[c("Forgot Password?",-1)])]),_:1})]),o(v,{unelevated:"",type:"submit",color:"white","text-color":"dark",label:"Sign In",class:"full-width text-weight-bold q-py-sm btn-hover-lift",loading:m.value},null,8,["loading"])]),_:1}),s("div",R,[e[8]||(e[8]=c(" Don't have an account? ",-1)),o(f,{to:"/register",class:"text-white text-weight-bold hover-accent text-decoration-none"},{default:l(()=>[...e[7]||(e[7]=[c("Sign Up",-1)])]),_:1})])])])]),_:1})]),_:1})]),_:1})}}},E=z(U,[["__scopeId","data-v-d01fb0f4"]]);export{E as default};

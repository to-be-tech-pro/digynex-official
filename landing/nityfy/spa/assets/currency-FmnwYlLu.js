import{bq as i}from"./index-BCoBQOFT.js";import{a as r}from"./index-D5GkNzM3.js";const n=i("currency",{state:()=>({countryCode:localStorage.getItem("user_country")||"SE",currency:"SEK",symbol:"kr",proPrice:750,isLoaded:!1}),actions:{async initialize(){if(!this.isLoaded){try{const t=await r.get("https://ipapi.co/json/").catch(()=>r.get("https://ip-api.com/json/"));if(t.data){const e=t.data.country_code||t.data.countryCode;e&&this.setCountryCode(e)}}catch{console.warn("Currency detection failed, using defaults")}this.updateStateByCountry(),this.isLoaded=!0}},setCountryCode(t){t&&(this.countryCode=t,localStorage.setItem("user_country",t),this.updateStateByCountry())},updateStateByCountry(){this.countryCode==="LK"||this.countryCode==="SL"?(this.currency="LKR",this.symbol="LKR",this.proPrice=15e3):this.countryCode==="SE"?(this.currency="SEK",this.symbol="kr",this.proPrice=750):(this.currency="USD",this.symbol="$",this.proPrice=49)},format(t){if(t==null)return"";const e=Number(t).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0});return this.currency==="SEK"?`${e} ${this.symbol}`:`${this.symbol} ${e}`}}});export{n as u};
